---
layout: single
title:  "백준 문제풀이 4949번"
categories: PS
tag: [stack]
use_math: false
# sidebar:
#   nav: "counts"
---

<div style="text-align : center">
<img src="{{site.url}}/images/PS/4949.png"/>
</div>

## 풀이 방식
stack에 담은 원소와 대응하는 값이 나오면 stack에서 꺼내준다.

```c++
#include<iostream>
#include<string>
#include<stack>
using namespace std;

int main()
{
	ios::sync_with_stdio(false); cin.tie(NULL); cout.tie(NULL); // 입출력 최적화

	stack<char> st;
	string txt;

	while (1)
	{
		getline(cin, txt); // 입력 받기

		if (txt.size() == 1) // Exit 조건
		{
			if (txt[0] == '.')
			{
				break;
			}
		}

		for (int i = 0; i < txt.size(); i++)
		{
			if (i == txt.size() - 1) // 마지막 원소 체크
			{
				if (txt[i] != '.' || st.size() != 0)
				{
					cout << "no" << '\n';
					break;
				}
				else
				{
					cout << "yes" << '\n';
				}
			}
			else // 괄호 확인
			{
				if (txt[i] == '(' || txt[i] == ')' || txt[i] == '[' || txt[i] == ']')
				{
					if (st.size() == 0)
					{
						st.push(txt[i]); // 스택이 비어있다면 괄호 값을 넣어주기
					}
					else
					{
						char tmp = st.top();

						if ((tmp == '(' && (txt[i] != ')' && txt[i] != '[' && txt[i] != '(')) || (tmp == '[' && (txt[i] != ']' && txt[i] != '(' && txt[i] != '[')))
						{
							cout << "no" << '\n'; //  괄호가 서로 대응하지 않는 경우
							break;
						}
						else
						{
							if ((tmp == '(' && txt[i] == ')') || (tmp == '[' && txt[i] == ']'))
							{
								st.pop(); // 서로 대응하는 괄호의 경우 stack에서 꺼내주기
							}
							else
							{
								st.push(txt[i]); // 아닐 경우 stack에 넣어주기
							}
						}
					}
				}
			}
		}

		while (!st.empty()) st.pop();
		txt = "";
	}

	return 0;
}
```
## 결론
조건이 많은 문제는 꼼꼼히 살펴보자

## 출처
<a href="https://www.acmicpc.net/problem/4949">https://www.acmicpc.net/problem/4949</a>
